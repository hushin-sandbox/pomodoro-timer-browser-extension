# ポモドーロタイマー ブラウザ拡張

ポモドーロテクニック用のシンプルなブラウザ拡張機能です。

## 機能

### 基本機能

- ⏰ 25 分の作業時間 + 5 分の休憩時間のポモドーロサイクル
- ▶️ 開始/一時停止/リセット機能
- 🔄 作業時間と休憩時間の手動切り替え
- 🔢 拡張アイコンのバッジに残り時間（分）を表示

### UI/UX

- 🎨 色分け表示: 作業時間（赤）、休憩時間（緑）
- 📈 本日のポモドーロ完了数をカウント

### 通知機能

- 🔔 ブラウザ通知でタイマー終了をお知らせ
- 💬 状況別メッセージ: 作業完了時と休憩完了時で異なる内容

## 技術構成

- フレームワーク: [WXT](https://wxt.dev/) - 最新のブラウザ拡張開発フレームワーク
- UI: Svelte
- パッケージマネージャー: pnpm
- 言語: TypeScript
- 対応ブラウザ: Chrome, Edge, Firefox など

## 開発・ビルド

### 必要な環境

- Node.js 22+
- pnpm

### セットアップ

```bash
# 依存関係のインストール
pnpm install

# 開発サーバー起動（Chrome）
pnpm dev
```

### ビルド

```bash
# 本番用ビルド
pnpm build

# Firefox用ビルド
pnpm build:firefox

# ZIP形式でパッケージ化
pnpm zip
```

### TypeScript コンパイルチェック

```bash
pnpm compile
```

## ファイル構造

WXT フレームワークに基づく標準的なプロジェクト構造:

```
📂 /
   📁 .output/            # ビルド成果物（自動生成）
   📁 .wxt/               # WXT設定ファイル（自動生成）
   📁 public/             # 静的ファイル（そのままコピーされる）
   │  📁 icon/           # 拡張機能アイコン（16, 32, 48, 96, 128px）
   │  └─ wxt.svg         # WXTロゴ
   📁 src/                # ソースコード
   │  📁 assets/         # 処理されるアセット（CSS、画像など）
   │  📁 entrypoints/    # 拡張機能エントリーポイント
   │  │  ├─ background.ts      # バックグラウンドスクリプト
   │  │  ├─ content.ts         # コンテンツスクリプト
   │  │  └─ popup/             # ポップアップUI
   │  │     ├─ App.svelte      # メインSvelteコンポーネント
   │  │     ├─ app.css         # ポップアップ用スタイル
   │  │     ├─ index.html      # ポップアップHTML
   │  │     └─ main.ts         # ポップアップエントリー
   │  └─ lib/            # 再利用可能コンポーネント
   │     └─ PomodoroTimer.svelte  # ポモドーロタイマーコンポーネント
   📄 wxt.config.ts       # WXT設定ファイル
   📄 tsconfig.json       # TypeScript設定
   📄 wxt-env.d.ts        # WXT型定義
```

### ディレクトリ説明

- **entrypoints/**: ブラウザ拡張の各エントリーポイント（background, content, popup）
- **lib/**: Svelte コンポーネントやユーティリティ（自動インポート対応）
- **assets/**: CSS、画像などの処理対象アセット
- **public/**: 変更せずにそのままコピーされる静的ファイル
- **.output/**: ビルド後の成果物（Chrome と Firefox 用のマニフェストを含む）

## 使用方法

1. 拡張アイコンをクリックしてポップアップを開く
2. 「開始」ボタンでタイマーをスタート
3. タイマー動作中は拡張アイコンに残り時間が表示される
4. 25 分経過で通知が表示され、ユーザーがボタンを押したら 5 分の休憩モードに切り替わる
5. 「休憩に切替」/「作業に切替」ボタンで手動切り替え可能
